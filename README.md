# 探查漁船船位回報器資料實作

## **背景**
每艘漁船的船位回報器(VMS)每30分鐘應要傳送1次資料，正常情況下，1日應要有48筆資料。如果連續發生2次未傳送資料，該2筆資料視為遺漏值。

## **目標**
從資料中找出有遺漏值的漁船資料，並將漁船船名及遺漏值顯示出來

## **資料素材**
資料共有16個欄位，僅需要用到中文船名及GPS時間等2個欄位。

中文船名|GPS時間
|:----:|:---:|
vessel_a|2021/5/10 00:00:00|
vessel_a|2021/5/10 00:30:00|
vessel_a|2021/5/10 01:00:00|
vessel_a|2021/5/10 05:30:00|
vessel_b|2021/5/10 00:00:00|
vessel_b|2021/5/10 00:30:00|
vessel_b|2021/5/10 01:00:00|
vessel_b|2021/5/10 05:30:00|
vessel_b|2021/5/10 07:00:00|
vessel_b|2021/5/10 23:59:00|

## **限制**
1. 僅去檢視漁船名單中的情況
2. 漁船在特例情況可以關閉VMS，因此完全不會傳送資料。

## **實作**
### 事前準備
1. 運用 pandas, time , datetime等套件。
2. 由於資料素材是以big5做編譯，所以製作dataframe時，設定encoding='big5'
3. 將GPS時間欄位的字串資料，轉成時間格式
4. 利用中文船名欄位製作各自的dataframe
5. 建置漁船名單

### 資料檢測
1. 比較 第(n) row + 30min 是否小於第(n+1) row 的資料30min，如果成立，再去看第(n) row + 30min(*2) 是否小於第(n+1) row 的資料30min。
    - 成立即發現遺漏值，先把遺漏值print出來，再把遺漏值加入dataframe
2. 如果資料裡沒有漁船名單的資料，即print 查無資料
3. 先前有提到每1艘船於每日需要有48筆資料，但由於第1點的運算只能針對原有的資料去做檢測，萬一原始資料介於0時-10時，只會去做這區間的運算，因此透過另個迴圈去做檢測。
    - 與第1點的邏輯相似，只是先改變資料順序，並指定特定時間，再去做運算。
